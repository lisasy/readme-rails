= render 'form'

%section.article-list-container
  %header
    %h4 Showing #{@articles.size} of #{Article.all.size} articles
  - if !@articles.empty?
    %ul.article-list
      - @articles.each do |article|
        %li{:id => "#{article.id}"}
          %div.description
            = link_to article.title,
              article_path(article),
              class: 'article-title'
            %ul
              %li Last updated #{time_ago_in_words(article.created_at)} ago
              %li | Word count: #{ article.body.split.size }
              - if article.author
                %li | By #{ article.author.titleize }
          %aside.editable
            = link_to content_tag(:i, '', class: 'icon-remove'), 
              nil, 
              class: 'open-modal'
  %footer
    = will_paginate @articles

%section.modal.animated.bounceInDown
  %section.modal-container
    %header.modal-header
      %h4 Delete article
      %div.window-editable
        = link_to content_tag( :i, '', class: 'icon-remove' ), 
          nil, 
          class: 'close-window'
    %div.modal-content
      %p Are you sure you want to delete the article?
    %section.modal-editable
      = link_to 'Cancel', '', class: 'button cancel'
      = link_to 'Delete article','', 
        :method => :delete, 
        class: 'negative button delete-article'
